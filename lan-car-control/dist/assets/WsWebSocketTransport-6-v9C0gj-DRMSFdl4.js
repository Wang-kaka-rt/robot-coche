import{a as t}from"./browser-CFVsDEX6.js";import{P as s}from"./index-CtsA72gy.js";class n extends s{constructor(e){super(),this.socket=e,this.registerEventListeners()}send(e){this.socket.send(JSON.stringify(e))}close(){this.socket.close()}isConnecting(){return this.socket.readyState===t.WebSocket.CONNECTING}isOpen(){return this.socket.readyState===t.WebSocket.OPEN}isClosing(){return this.socket.readyState===t.WebSocket.CLOSING}isClosed(){return this.socket.readyState===t.WebSocket.CLOSED}registerEventListeners(){this.socket.onopen=e=>{this.emit("open",e)},this.socket.onclose=e=>{this.emit("close",e)},this.socket.onerror=e=>{this.emit("error",e)},this.socket.onmessage=e=>{this.handleRawMessage(e.data)}}}export{n as WsWebSocketTransport};
